<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¹Ø¬Ù„Ø© Ø§Ù„Ø­Ø¸ Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠØ© ğŸ¡</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ¡</text></svg>">
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #ff416c 0%, #ff4b2b 100%);
            color: #333;
            min-height: 100vh;
            overflow-x: hidden;
            transition: background 0.5s ease;
        }
        
        /* Ù†Ù…Ø· Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¬ÙˆØ§Ø¦Ø² */
        .setup-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 100;
            padding: 20px;
            transition: opacity 0.5s ease;
        }
        
        .setup-screen.hidden {
            opacity: 0;
            pointer-events: none;
            z-index: -1;
        }
        
        .setup-container {
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
            padding: 40px;
            max-width: 600px;
            width: 100%;
            text-align: center;
        }
        
        .setup-title {
            color: #2575fc;
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
        }
        
        .setup-subtitle {
            color: #666;
            font-size: 1.1rem;
            margin-bottom: 30px;
        }
        
        .input-group {
            display: flex;
            margin-bottom: 20px;
        }
        
        input {
            flex: 1;
            padding: 16px 20px;
            border: 2px solid #ddd;
            border-radius: 10px 0 0 10px;
            font-size: 1.1rem;
            transition: all 0.3s;
        }
        
        input:focus {
            border-color: #6a11cb;
            outline: none;
        }
        
        .add-btn {
            background-color: #6a11cb;
            color: white;
            border: none;
            padding: 0 30px;
            border-radius: 0 10px 10px 0;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: 600;
            transition: all 0.3s;
        }
        
        .add-btn:hover {
            background-color: #5a0db3;
        }
        
        .prizes-list {
            list-style: none;
            max-height: 250px;
            overflow-y: auto;
            padding: 15px;
            background-color: #f8f9ff;
            border-radius: 10px;
            border: 2px dashed #6a11cb;
            margin-bottom: 25px;
            text-align: right;
        }
        
        .prizes-list li {
            padding: 12px 15px;
            margin-bottom: 10px;
            background-color: #f0f4ff;
            border-radius: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-right: 5px solid #6a11cb;
            animation: fadeIn 0.5s ease;
        }
        
        .prizes-list li:last-child {
            margin-bottom: 0;
        }
        
        .prize-color {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: inline-block;
            margin-left: 10px;
        }
        
        .delete-btn {
            background-color: #ff4757;
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s;
        }
        
        .delete-btn:hover {
            background-color: #ff3742;
        }
        
        .start-btn {
            background-color: #ff9800;
            color: white;
            border: none;
            padding: 16px 50px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1.3rem;
            font-weight: bold;
            margin-top: 10px;
            transition: all 0.3s;
            box-shadow: 0 5px 15px rgba(255, 152, 0, 0.3);
        }
        
        .start-btn:hover {
            background-color: #e68900;
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(255, 152, 0, 0.4);
        }
        
        .start-btn:disabled {
            background-color: #ccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        /* Ù†Ù…Ø· Ø´Ø§Ø´Ø© Ø§Ù„Ø¹Ø¬Ù„Ø© */
        .wheel-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #ff416c 0%, #ff4b2b 100%);
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.8s ease;
            z-index: 50;
        }
        
        .wheel-screen.active {
            opacity: 1;
            pointer-events: all;
        }
        
        .wheel-title {
            color: white;
            font-size: 3rem;
            margin-bottom: 20px;
            text-align: center;
            text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.3);
        }
        
        .wheel-container {
            position: relative;
            width: 90vmin;
            height: 90vmin;
            max-width: 700px;
            max-height: 700px;
            margin: 0 auto;
        }
        
        #wheelCanvas {
            width: 100%;
            height: 100%;
            filter: drop-shadow(0 10px 20px rgba(0, 0, 0, 0.3));
        }
        
        .wheel-center {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 80px;
            height: 80px;
            background-color: #ff9800;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 2.2rem;
            z-index: 10;
            box-shadow: 0 0 20px rgba(255, 152, 0, 0.5);
            cursor: pointer;
            transition: transform 0.3s;
            border: 5px solid white;
        }
        
        .wheel-center:hover {
            transform: translate(-50%, -50%) scale(1.1);
        }
        
        .pointer {
            position: absolute;
            top: -30px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 80px;
            z-index: 9;
        }
        
        .pointer i {
            color: #FFD700;
            font-size: 80px;
            filter: drop-shadow(0 5px 10px rgba(0, 0, 0, 0.3));
        }
        
        .spin-btn {
            background-color: #FFD700;
            color: #333;
            border: none;
            padding: 18px 60px;
            font-size: 1.5rem;
            font-weight: bold;
            border-radius: 50px;
            margin-top: 40px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 8px 20px rgba(255, 215, 0, 0.4);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .spin-btn:hover {
            background-color: #ffcc00;
            transform: translateY(-5px);
            box-shadow: 0 12px 25px rgba(255, 215, 0, 0.5);
        }
        
        .spin-btn:disabled {
            background-color: #ccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .space-btn-hint {
            color: white;
            font-size: 1.2rem;
            margin-top: 15px;
            text-align: center;
            background-color: rgba(0, 0, 0, 0.2);
            padding: 10px 20px;
            border-radius: 10px;
            backdrop-filter: blur(5px);
        }
        
        .space-btn-hint kbd {
            background-color: #333;
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            font-family: monospace;
            margin: 0 5px;
            border: 1px solid #555;
        }
        
        .back-btn {
            position: absolute;
            top: 30px;
            right: 30px;
            background-color: rgba(255, 255, 255, 0.2);
            color: white;
            border: 2px solid white;
            padding: 12px 25px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1.1rem;
            transition: all 0.3s;
            backdrop-filter: blur(5px);
        }
        
        .back-btn:hover {
            background-color: rgba(255, 255, 255, 0.3);
            transform: translateY(-3px);
        }
        
        /* Ù†Ù…Ø· Ø´Ø§Ø´Ø© Ø§Ù„Ù†ØªÙŠØ¬Ø© */
        .result-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #00b09b 0%, #96c93d 100%);
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.8s ease;
            z-index: 60;
            padding: 20px;
        }
        
        .result-screen.active {
            opacity: 1;
            pointer-events: all;
        }
        
        .result-container {
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 30px;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
            padding: 60px 40px;
            max-width: 800px;
            width: 100%;
            text-align: center;
            animation: scaleIn 0.8s ease;
        }
        
        .result-title {
            color: #00b09b;
            font-size: 2.8rem;
            margin-bottom: 20px;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
        }
        
        .result-prize {
            font-size: 4.5rem;
            color: #ff6b6b;
            font-weight: bold;
            margin: 40px 0;
            min-height: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            animation: pulse 2s infinite;
        }
        
        .result-message {
            font-size: 2rem;
            color: #333;
            margin-bottom: 40px;
        }
        
        .result-actions {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin-top: 40px;
        }
        
        .result-btn {
            padding: 18px 40px;
            font-size: 1.3rem;
            font-weight: bold;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .spin-again-btn {
            background-color: #ff9800;
            color: white;
            box-shadow: 0 5px 15px rgba(255, 152, 0, 0.3);
        }
        
        .spin-again-btn:hover {
            background-color: #e68900;
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(255, 152, 0, 0.4);
        }
        
        .new-prizes-btn {
            background-color: #6a11cb;
            color: white;
            box-shadow: 0 5px 15px rgba(106, 17, 203, 0.3);
        }
        
        .new-prizes-btn:hover {
            background-color: #5a0db3;
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(106, 17, 203, 0.4);
        }
        
        .confetti {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            pointer-events: none;
            z-index: 1;
        }
        
        .footer {
            position: fixed;
            bottom: 20px;
            left: 0;
            width: 100%;
            text-align: center;
            color: white;
            font-size: 0.9rem;
            opacity: 0.7;
            z-index: 70;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes scaleIn {
            from { opacity: 0; transform: scale(0.8); }
            to { opacity: 1; transform: scale(1); }
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        @keyframes confettiFall {
            0% { transform: translateY(-100px) rotate(0deg); }
            100% { transform: translateY(100vh) rotate(360deg); }
        }
        
        /* Ø§Ù„ØªØ£Ø«ÙŠØ±Ø§Øª */
        .hidden {
            display: none;
        }
        
        @media (max-width: 768px) {
            .setup-container, .result-container {
                padding: 30px 20px;
            }
            
            .setup-title {
                font-size: 2rem;
            }
            
            .wheel-title {
                font-size: 2.2rem;
            }
            
            .result-title {
                font-size: 2.2rem;
            }
            
            .result-prize {
                font-size: 3rem;
                margin: 20px 0;
            }
            
            .result-message {
                font-size: 1.5rem;
            }
            
            .result-actions {
                flex-direction: column;
                align-items: center;
            }
            
            .result-btn {
                width: 100%;
                max-width: 300px;
                justify-content: center;
            }
            
            .back-btn {
                top: 20px;
                right: 20px;
                padding: 10px 20px;
            }
            
            .footer {
                font-size: 0.8rem;
                padding: 0 20px;
            }
        }
    </style>
</head>
<body>
    <!-- Ø´Ø§Ø´Ø© Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø¬ÙˆØ§Ø¦Ø² -->
    <div class="setup-screen" id="setupScreen">
        <div class="setup-container">
            <h1 class="setup-title"><i class="fas fa-gift"></i> Ø¹Ø¬Ù„Ø© Ø§Ù„Ø­Ø¸ Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠØ©</h1>
            <p class="setup-subtitle">Ø£Ø¯Ø®Ù„ Ø§Ù„Ø¬ÙˆØ§Ø¦Ø² Ø§Ù„ØªÙŠ ØªØ±ÙŠØ¯ ÙˆØ¶Ø¹Ù‡Ø§ ÙÙŠ Ø¹Ø¬Ù„Ø© Ø§Ù„Ø­Ø¸ (ÙŠØ¬Ø¨ Ø¥Ø¯Ø®Ø§Ù„ Ø¬Ø§Ø¦Ø²ØªÙŠÙ† Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„)</p>
            
            <div class="input-group">
                <input type="text" id="prizeInput" placeholder="Ø£Ø¯Ø®Ù„ Ø¬Ø§Ø¦Ø²Ø© Ø¬Ø¯ÙŠØ¯Ø© (Ù…Ø«Ø§Ù„: Ù‡Ø§ØªÙ Ø°ÙƒÙŠ)">
                <button class="add-btn" id="addPrizeBtn">Ø¥Ø¶Ø§ÙØ©</button>
            </div>
            
            <h3 style="color: #6a11cb; margin-bottom: 10px; text-align: right;">Ø§Ù„Ø¬ÙˆØ§Ø¦Ø² Ø§Ù„Ù…Ø¶Ø§ÙØ©:</h3>
            <ul class="prizes-list" id="prizesList">
                <!-- Ø§Ù„Ø¬ÙˆØ§Ø¦Ø² Ø³ØªØ¸Ù‡Ø± Ù‡Ù†Ø§ -->
            </ul>
            
            <button class="start-btn" id="startBtn" disabled>
                <i class="fas fa-play-circle"></i> Ø¨Ø¯Ø¡ ØªØ¯ÙˆÙŠØ± Ø§Ù„Ø¹Ø¬Ù„Ø©
            </button>
            
            <div class="space-btn-hint" style="margin-top: 20px;">
                <p>ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø²Ø± <kbd>Ø§Ù„Ù…Ø³Ø§ÙØ©</kbd> Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¹Ø¬Ù„Ø© Ø¹Ù†Ø¯Ù…Ø§ ØªÙƒÙˆÙ† ÙÙŠ Ø´Ø§Ø´Ø© Ø§Ù„Ø¹Ø¬Ù„Ø©</p>
            </div>
        </div>
    </div>
    
    <!-- Ø´Ø§Ø´Ø© Ø§Ù„Ø¹Ø¬Ù„Ø© -->
    <div class="wheel-screen" id="wheelScreen">
        <button class="back-btn" id="backToSetupBtn">
            <i class="fas fa-arrow-right"></i> Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø¬ÙˆØ§ÙŠØ²
        </button>
        
        <h1 class="wheel-title">Ø¹Ø¬Ù„Ø© Ø§Ù„Ø­Ø¸</h1>
        
        <div class="wheel-container">
            <div class="pointer">
                <i class="fas fa-caret-down"></i>
            </div>
            <canvas id="wheelCanvas"></canvas>
            <div class="wheel-center" id="spinCenterButton">
                <i class="fas fa-redo"></i>
            </div>
        </div>
        
        <button class="spin-btn" id="spinBtn">
            <i class="fas fa-play-circle"></i> ØªØ¯ÙˆÙŠØ± Ø§Ù„Ø¹Ø¬Ù„Ø©
        </button>
        
        <div class="space-btn-hint">
            <p>Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø²Ø± <kbd>Ø§Ù„Ù…Ø³Ø§Ø­Ø©</kbd> Ø£Ùˆ Ø§Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø§Ù„Ø²Ø± Ø£Ø¹Ù„Ø§Ù‡ Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¹Ø¬Ù„Ø©</p>
        </div>
    </div>
    
    <!-- Ø´Ø§Ø´Ø© Ø§Ù„Ù†ØªÙŠØ¬Ø© -->
    <div class="result-screen" id="resultScreen">
        <div class="confetti" id="confettiContainer"></div>
        <div class="result-container">
            <h1 class="result-title">Ù…Ø¨Ø±ÙˆÙƒ! Ù„Ù‚Ø¯ ÙØ²Øª Ø¨Ù€</h1>
            <div class="result-prize" id="resultPrize"></div>
            <p class="result-message">ØªÙ‡Ø§Ù†ÙŠÙ†Ø§ Ø¹Ù„Ù‰ ÙÙˆØ²Ùƒ Ø§Ù„Ø±Ø§Ø¦Ø¹!</p>
            
            <div class="result-actions">
                <button class="result-btn spin-again-btn" id="spinAgainBtn">
                    <i class="fas fa-redo"></i> ØªØ¯ÙˆÙŠØ± Ù…Ø±Ø© Ø£Ø®Ø±Ù‰
                </button>
                <button class="result-btn new-prizes-btn" id="newPrizesBtn">
                    <i class="fas fa-gift"></i> ØªØºÙŠÙŠØ± Ø§Ù„Ø¬ÙˆØ§Ø¦Ø²
                </button>
            </div>
            
            <div class="space-btn-hint" style="margin-top: 30px; color: #666;">
                <p>ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø²Ø± <kbd>Ø§Ù„Ù…Ø³Ø§Ø­Ø©</kbd> Ù„Ù„Ø¹ÙˆØ¯Ø© ÙˆØªØ¯ÙˆÙŠØ± Ù…Ø±Ø© Ø£Ø®Ø±Ù‰</p>
            </div>
        </div>
    </div>
    
    <div class="footer">
        ØªØ·Ø¨ÙŠÙ‚ Ø¹Ø¬Ù„Ø© Ø§Ù„Ø­Ø¸ Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠØ© | ØªÙ… Ø§Ù„Ù†Ø´Ø± Ø¹Ù„Ù‰ Vercel
    </div>

    <script>
        // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
        let prizes = [];
        let colors = [
            '#FF5252', '#FF4081', '#E040FB', '#7C4DFF', 
            '#536DFE', '#448AFF', '#40C4FF', '#18FFFF',
            '#64FFDA', '#69F0AE', '#B2FF59', '#EEFF41',
            '#FFFF00', '#FFD740', '#FFAB40', '#FF6E40'
        ];
        let isSpinning = false;
        let currentRotation = 0;
        let wheelCanvas, wheelCtx;
        let winningPrizeIndex = -1;

        // Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø´Ø§Ø´Ø§Øª
        const setupScreen = document.getElementById('setupScreen');
        const wheelScreen = document.getElementById('wheelScreen');
        const resultScreen = document.getElementById('resultScreen');
        const resultPrize = document.getElementById('resultPrize');
        const confettiContainer = document.getElementById('confettiContainer');

        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¬ÙˆØ§Ø¦Ø² Ù…Ù† localStorage Ø¹Ù†Ø¯ Ø¨Ø¯Ø¡ Ø§Ù„ØªØ­Ù…ÙŠÙ„
        document.addEventListener('DOMContentLoaded', function() {
            wheelCanvas = document.getElementById('wheelCanvas');
            wheelCtx = wheelCanvas.getContext('2d');
            
            // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¬ÙˆØ§Ø¦Ø² Ù…Ù† localStorage
            loadPrizesFromStorage();
            
            // Ø¥Ø¹Ø¯Ø§Ø¯ Ø­Ø¬Ù… canvas
            resizeWheelCanvas();
            window.addEventListener('resize', resizeWheelCanvas);
            
            // Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªÙ…Ø¹ÙŠ Ø§Ù„Ø£Ø­Ø¯Ø§Ø«
            document.getElementById('addPrizeBtn').addEventListener('click', addPrize);
            document.getElementById('prizeInput').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') addPrize();
            });
            
            document.getElementById('startBtn').addEventListener('click', startWheelScreen);
            document.getElementById('backToSetupBtn').addEventListener('click', backToSetup);
            document.getElementById('spinBtn').addEventListener('click', spinWheel);
            document.getElementById('spinCenterButton').addEventListener('click', spinWheel);
            document.getElementById('spinAgainBtn').addEventListener('click', spinAgain);
            document.getElementById('newPrizesBtn').addEventListener('click', newPrizes);
            
            // Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªÙ…Ø¹ Ù„Ø²Ø± Ø§Ù„Ù…Ø³Ø§Ø­Ø©
            document.addEventListener('keydown', handleKeyPress);
            
            // Ø±Ø³Ù… Ø§Ù„Ø¹Ø¬Ù„Ø© Ø£ÙˆÙ„ Ù…Ø±Ø©
            drawWheel();
        });

        // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙØ§ØªÙŠØ­
        function handleKeyPress(event) {
            // Ø²Ø± Ø§Ù„Ù…Ø³Ø§Ø­Ø© (Space) - Ø§Ù„Ø±Ù…Ø² 32
            if (event.keyCode === 32 || event.key === ' ') {
                event.preventDefault(); // Ù…Ù†Ø¹ Ø§Ù„Ø³Ù„ÙˆÙƒ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ Ù„Ù„Ù…Ø³Ø§ÙØ© (Ø§Ù„ØªÙ…Ø±ÙŠØ± Ù„Ù„Ø£Ø³ÙÙ„)
                
                // Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø´Ø§Ø´Ø© Ø§Ù„Ø¹Ø¬Ù„Ø© Ù†Ø´Ø·Ø© ÙˆÙ„Ù… ØªÙƒÙ† Ø§Ù„Ø¹Ø¬Ù„Ø© ÙÙŠ Ø­Ø§Ù„Ø© Ø¯ÙˆØ±Ø§Ù†
                if (wheelScreen.classList.contains('active') && !isSpinning) {
                    spinWheel();
                }
                // Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø´Ø§Ø´Ø© Ø§Ù„Ù†ØªÙŠØ¬Ø© Ù†Ø´Ø·Ø©
                else if (resultScreen.classList.contains('active')) {
                    spinAgain();
                }
            }
            
            // Ø²Ø± Escape Ù„Ù„Ø¹ÙˆØ¯Ø©
            if (event.keyCode === 27) { // Escape key
                if (wheelScreen.classList.contains('active')) {
                    backToSetup();
                }
            }
        }

        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¬ÙˆØ§Ø¦Ø² Ù…Ù† localStorage
        function loadPrizesFromStorage() {
            const savedPrizes = localStorage.getItem('luckWheelPrizes');
            if (savedPrizes) {
                prizes = JSON.parse(savedPrizes);
                updatePrizesList();
            } else {
                // Ø¥Ø°Ø§ Ù„Ù… ØªÙˆØ¬Ø¯ Ø¬ÙˆØ§Ø¦Ø² Ù…Ø­ÙÙˆØ¸Ø©ØŒ Ù†Ø¶ÙŠÙ Ø¨Ø¹Ø¶ Ø§Ù„Ø¬ÙˆØ§Ø¦Ø² Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
                prizes = [
                    { text: "Ù‡Ø§ØªÙ Ø°ÙƒÙŠ", color: colors[0] },
                    { text: "Ø­ÙˆØ§Ø³ÙŠØ¨ Ù…Ø­Ù…ÙˆÙ„Ø©", color: colors[1] },
                    { text: "Ø³Ù…Ø§Ø¹Ø§Øª Ù„Ø§Ø³Ù„ÙƒÙŠØ©", color: colors[2] },
                    { text: "Ø³Ø§Ø¹Ø© Ø°ÙƒÙŠØ©", color: colors[3] },
                    { text: "Ù‚Ø³ÙŠÙ…Ø© ØªØ³ÙˆÙ‚ 100$", color: colors[4] },
                    { text: "Ø¹Ø´Ø§Ø¡ Ù…Ø¬Ø§Ù†ÙŠ", color: colors[5] },
                    { text: "Ø¥Ø¬Ø§Ø²Ø© Ù†Ù‡Ø§ÙŠØ© Ø£Ø³Ø¨ÙˆØ¹", color: colors[6] },
                    { text: "ØªÙ„ÙØ²ÙŠÙˆÙ† Ø°ÙƒÙŠ", color: colors[7] }
                ];
                savePrizesToStorage();
                updatePrizesList();
            }
        }

        // Ø­ÙØ¸ Ø§Ù„Ø¬ÙˆØ§Ø¦Ø² ÙÙŠ localStorage
        function savePrizesToStorage() {
            localStorage.setItem('luckWheelPrizes', JSON.stringify(prizes));
        }

        // Ø¥Ø¶Ø§ÙØ© Ø¬Ø§Ø¦Ø²Ø© Ø¬Ø¯ÙŠØ¯Ø©
        function addPrize() {
            const prizeInput = document.getElementById('prizeInput');
            const prizeText = prizeInput.value.trim();
            
            if (!prizeText) {
                alert("Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ù†Øµ Ù„Ù„Ø¬Ø§Ø¦Ø²Ø©");
                return;
            }
            
            // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù„ÙˆÙ† Ø¹Ø´ÙˆØ§Ø¦ÙŠ Ù„Ù„Ø¬Ø§Ø¦Ø²Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
            const colorIndex = prizes.length % colors.length;
            const newPrize = {
                text: prizeText,
                color: colors[colorIndex]
            };
            
            prizes.push(newPrize);
            savePrizesToStorage();
            updatePrizesList();
            drawWheel();
            
            // Ù…Ø³Ø­ Ø­Ù‚Ù„ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„
            prizeInput.value = '';
            prizeInput.focus();
        }

        // ØªØ­Ø¯ÙŠØ« Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬ÙˆØ§Ø¦Ø² Ø§Ù„Ù…Ø¹Ø±ÙˆØ¶Ø©
        function updatePrizesList() {
            const prizesList = document.getElementById('prizesList');
            const startBtn = document.getElementById('startBtn');
            
            prizesList.innerHTML = '';
            
            if (prizes.length === 0) {
                prizesList.innerHTML = '<li style="text-align: center; color: #999;">Ù„Ù… ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ø£ÙŠ Ø¬ÙˆØ§Ø¦Ø² Ø¨Ø¹Ø¯</li>';
                startBtn.disabled = true;
                return;
            }
            
            prizes.forEach((prize, index) => {
                const li = document.createElement('li');
                li.innerHTML = `
                    <div>
                        <span class="prize-color" style="background-color: ${prize.color};"></span>
                        ${prize.text}
                    </div>
                    <button class="delete-btn" onclick="deletePrize(${index})">Ø­Ø°Ù</button>
                `;
                prizesList.appendChild(li);
            });
            
            // ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø²Ø± Ø§Ù„Ø¨Ø¯Ø¡
            startBtn.disabled = prizes.length < 2;
        }

        // Ø­Ø°Ù Ø¬Ø§Ø¦Ø²Ø©
        function deletePrize(index) {
            if (confirm(`Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ø§Ù„Ø¬Ø§Ø¦Ø²Ø© "${prizes[index].text}"ØŸ`)) {
                prizes.splice(index, 1);
                savePrizesToStorage();
                updatePrizesList();
                drawWheel();
            }
        }

        // Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ø¥Ù„Ù‰ Ø´Ø§Ø´Ø© Ø§Ù„Ø¹Ø¬Ù„Ø©
        function startWheelScreen() {
            if (prizes.length < 2) {
                alert("ÙŠØ¬Ø¨ Ø¥Ø¶Ø§ÙØ© Ø¬Ø§Ø¦Ø²ØªÙŠÙ† Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„ Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¹Ø¬Ù„Ø©");
                return;
            }
            
            setupScreen.classList.add('hidden');
            wheelScreen.classList.add('active');
            drawWheel();
        }

        // Ø§Ù„Ø¹ÙˆØ¯Ø© Ø¥Ù„Ù‰ Ø´Ø§Ø´Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯
        function backToSetup() {
            wheelScreen.classList.remove('active');
            setupScreen.classList.remove('hidden');
        }

        // Ø¶Ø¨Ø· Ø­Ø¬Ù… Ø¹Ø¬Ù„Ø© Ø§Ù„Ø­Ø¸
        function resizeWheelCanvas() {
            const container = document.querySelector('.wheel-container');
            const size = Math.min(container.clientWidth, container.clientHeight);
            
            wheelCanvas.width = size;
            wheelCanvas.height = size;
            
            drawWheel();
        }

        // Ø±Ø³Ù… Ø¹Ø¬Ù„Ø© Ø§Ù„Ø­Ø¸ - Ø¨Ø¯ÙˆÙ† Ø£Ø³Ù…Ø§Ø¡
        function drawWheel() {
            if (prizes.length === 0) return;
            
            const centerX = wheelCanvas.width / 2;
            const centerY = wheelCanvas.height / 2;
            const radius = Math.min(centerX, centerY) - 30;
            
            // Ù…Ø³Ø­ canvas
            wheelCtx.clearRect(0, 0, wheelCanvas.width, wheelCanvas.height);
            
            // Ø­Ø³Ø§Ø¨ Ø²Ø§ÙˆÙŠØ© ÙƒÙ„ Ù‚Ø·Ø¹Ø©
            const angleStep = (2 * Math.PI) / prizes.length;
            
            // Ø±Ø³Ù… ÙƒÙ„ Ù‚Ø·Ø¹Ø©
            for (let i = 0; i < prizes.length; i++) {
                const startAngle = i * angleStep + currentRotation;
                const endAngle = (i + 1) * angleStep + currentRotation;
                
                // Ø±Ø³Ù… Ø§Ù„Ù‚Ø·Ø¹Ø©
                wheelCtx.beginPath();
                wheelCtx.moveTo(centerX, centerY);
                wheelCtx.arc(centerX, centerY, radius, startAngle, endAngle);
                wheelCtx.closePath();
                
                // ØªØ¹Ø¨Ø¦Ø© Ø§Ù„Ù‚Ø·Ø¹Ø©
                wheelCtx.fillStyle = prizes[i].color;
                wheelCtx.fill();
                
                // Ø¥Ø¶Ø§ÙØ© Ø­Ø¯ÙˆØ¯
                wheelCtx.strokeStyle = '#fff';
                wheelCtx.lineWidth = 3;
                wheelCtx.stroke();
                
                // Ø±Ø³Ù… Ø®Ø·ÙˆØ· ÙØ§ØµÙ„Ø© Ø¨ÙŠÙ† Ø§Ù„Ù‚Ø·Ø¹
                wheelCtx.beginPath();
                wheelCtx.moveTo(centerX, centerY);
                wheelCtx.lineTo(
                    centerX + Math.cos(startAngle) * radius,
                    centerY + Math.sin(startAngle) * radius
                );
                wheelCtx.strokeStyle = '#fff';
                wheelCtx.lineWidth = 2;
                wheelCtx.stroke();
            }
            
            // Ø±Ø³Ù… Ø§Ù„Ø­Ø¯ Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠ Ù„Ù„Ø¹Ø¬Ù„Ø©
            wheelCtx.beginPath();
            wheelCtx.arc(centerX, centerY, radius, 0, 2 * Math.PI);
            wheelCtx.strokeStyle = '#fff';
            wheelCtx.lineWidth = 5;
            wheelCtx.stroke();
            
            // Ø±Ø³Ù… Ù…Ø±ÙƒØ² Ø§Ù„Ø¹Ø¬Ù„Ø©
            wheelCtx.beginPath();
            wheelCtx.arc(centerX, centerY, 40, 0, 2 * Math.PI);
            wheelCtx.fillStyle = '#ff9800';
            wheelCtx.fill();
            wheelCtx.strokeStyle = '#fff';
            wheelCtx.lineWidth = 5;
            wheelCtx.stroke();
            
            // Ø¥Ø¶Ø§ÙØ© Ù†Øµ "Ø§Ø¨Ø¯Ø£" ÙÙŠ Ø§Ù„Ù…Ø±ÙƒØ²
            wheelCtx.fillStyle = '#fff';
            wheelCtx.font = 'bold 18px Arial';
            wheelCtx.textAlign = 'center';
            wheelCtx.textBaseline = 'middle';
            wheelCtx.fillText('Ø§Ø¨Ø¯Ø£', centerX, centerY);
            
            // Ø¥Ø¶Ø§ÙØ© ØªØ£Ø«ÙŠØ±Ø§Øª Ø²Ø®Ø±ÙÙŠØ© Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ø¬Ù„Ø©
            addWheelDecorations(centerX, centerY, radius);
        }

        // Ø¥Ø¶Ø§ÙØ© Ø²Ø®Ø§Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ø¬Ù„Ø©
        function addWheelDecorations(centerX, centerY, radius) {
            // Ø¥Ø¶Ø§ÙØ© Ù†Ù‚Ø§Ø· Ø²Ø®Ø±ÙÙŠØ© Ø¹Ù„Ù‰ Ù…Ø­ÙŠØ· Ø§Ù„Ø¹Ø¬Ù„Ø©
            const numDots = 24;
            const dotRadius = 5;
            
            for (let i = 0; i < numDots; i++) {
                const angle = (i / numDots) * 2 * Math.PI;
                const dotX = centerX + Math.cos(angle) * (radius + 10);
                const dotY = centerY + Math.sin(angle) * (radius + 10);
                
                wheelCtx.beginPath();
                wheelCtx.arc(dotX, dotY, dotRadius, 0, 2 * Math.PI);
                wheelCtx.fillStyle = i % 2 === 0 ? '#FFD700' : '#FFFFFF';
                wheelCtx.fill();
            }
            
            // Ø¥Ø¶Ø§ÙØ© Ø®Ø·ÙˆØ· Ø²Ø®Ø±ÙÙŠØ© Ø¯Ø§Ø®Ù„ Ø§Ù„Ø¹Ø¬Ù„Ø©
            const innerRadius = radius * 0.7;
            const numLines = 12;
            
            for (let i = 0; i < numLines; i++) {
                const angle = (i / numLines) * 2 * Math.PI;
                wheelCtx.beginPath();
                wheelCtx.moveTo(
                    centerX + Math.cos(angle) * innerRadius,
                    centerY + Math.sin(angle) * innerRadius
                );
                wheelCtx.lineTo(
                    centerX + Math.cos(angle) * (radius - 10),
                    centerY + Math.sin(angle) * (radius - 10)
                );
                wheelCtx.strokeStyle = 'rgba(255, 255, 255, 0.3)';
                wheelCtx.lineWidth = 1;
                wheelCtx.stroke();
            }
        }

        // ØªØ¯ÙˆÙŠØ± Ø§Ù„Ø¹Ø¬Ù„Ø©
        function spinWheel() {
            if (isSpinning || prizes.length < 2) return;
            
            isSpinning = true;
            const spinBtn = document.getElementById('spinBtn');
            const spinCenterBtn = document.getElementById('spinCenterButton');
            
            spinBtn.disabled = true;
            spinCenterBtn.style.pointerEvents = 'none';
            
            // Ø­Ø³Ø§Ø¨ Ø¹Ø¯Ø¯ Ø§Ù„Ø¯ÙˆØ±Ø§Øª (Ø¨ÙŠÙ† 5 Ùˆ10 Ø¯ÙˆØ±Ø§Øª ÙƒØ§Ù…Ù„Ø©)
            const spins = 5 + Math.random() * 5;
            const totalRotation = spins * 2 * Math.PI;
            
            // Ø§Ø®ØªÙŠØ§Ø± Ø¬Ø§Ø¦Ø²Ø© Ø¹Ø´ÙˆØ§Ø¦ÙŠØ©
            winningPrizeIndex = Math.floor(Math.random() * prizes.length);
            const angleStep = (2 * Math.PI) / prizes.length;
            
            // Ø­Ø³Ø§Ø¨ Ø§Ù„Ø²Ø§ÙˆÙŠØ© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ© Ø¨Ø­ÙŠØ« ØªÙƒÙˆÙ† Ø§Ù„Ù…Ø¤Ø´Ø± ÙŠØ´ÙŠØ± Ø¥Ù„Ù‰ Ø§Ù„Ø¬Ø§Ø¦Ø²Ø© Ø§Ù„ÙØ§Ø¦Ø²Ø©
            // Ù†Ø±ÙŠØ¯ Ø£Ù† ÙŠÙ†ØªÙ‡ÙŠ Ø§Ù„Ù…Ø¤Ø´Ø± ÙÙŠ Ù…Ù†ØªØµÙ Ø§Ù„Ù‚Ø·Ø¹Ø© Ø§Ù„ÙØ§Ø¦Ø²Ø©
            const targetRotation = currentRotation + totalRotation + (winningPrizeIndex * angleStep + angleStep / 2);
            
            // ØªØ¯ÙˆÙŠØ± Ø§Ù„Ø¹Ø¬Ù„Ø©
            const startTime = Date.now();
            const duration = 5000; // 5 Ø«ÙˆØ§Ù†ÙŠ
            
            function animateWheel() {
                const now = Date.now();
                const elapsed = now - startTime;
                const progress = Math.min(elapsed / duration, 1);
                
                // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¯Ø§Ù„Ø© easeOutCubic Ù„Ù„ØªØ¯ÙˆÙŠØ± Ø¨Ø¨Ø·Ø¡ ÙÙŠ Ø§Ù„Ù†Ù‡Ø§ÙŠØ©
                const easeProgress = 1 - Math.pow(1 - progress, 3);
                
                currentRotation = easeProgress * targetRotation;
                drawWheel();
                
                if (progress < 1) {
                    requestAnimationFrame(animateWheel);
                } else {
                    // Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„ØªØ¯ÙˆÙŠØ±
                    isSpinning = false;
                    
                    // Ø§Ù„ØªØ£Ø«ÙŠØ± Ø§Ù„Ø¨ØµØ±ÙŠ Ø¹Ù†Ø¯ Ø§Ù„ØªÙˆÙ‚Ù
                    addStopEffect();
                    
                    // Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ø¥Ù„Ù‰ Ø´Ø§Ø´Ø© Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø¨Ø¹Ø¯ ØªØ£Ø®ÙŠØ± Ø¨Ø³ÙŠØ·
                    setTimeout(() => {
                        showResult();
                    }, 1500);
                }
            }
            
            requestAnimationFrame(animateWheel);
        }

        // Ø¥Ø¶Ø§ÙØ© ØªØ£Ø«ÙŠØ± Ø¹Ù†Ø¯ ØªÙˆÙ‚Ù Ø§Ù„Ø¹Ø¬Ù„Ø©
        function addStopEffect() {
            const centerX = wheelCanvas.width / 2;
            const centerY = wheelCanvas.height / 2;
            const radius = Math.min(centerX, centerY) - 30;
            const angleStep = (2 * Math.PI) / prizes.length;
            
            // ØªØ³Ù„ÙŠØ· Ø§Ù„Ø¶ÙˆØ¡ Ø¹Ù„Ù‰ Ø§Ù„Ù‚Ø·Ø¹Ø© Ø§Ù„ÙØ§Ø¦Ø²Ø©
            const startAngle = winningPrizeIndex * angleStep + currentRotation;
            const endAngle = (winningPrizeIndex + 1) * angleStep + currentRotation;
            
            wheelCtx.save();
            
            // Ø±Ø³Ù… Ù‡Ø§Ù„Ø© Ø­ÙˆÙ„ Ø§Ù„Ù‚Ø·Ø¹Ø© Ø§Ù„ÙØ§Ø¦Ø²Ø©
            const gradient = wheelCtx.createRadialGradient(
                centerX, centerY, radius * 0.8,
                centerX, centerY, radius * 1.2
            );
            gradient.addColorStop(0, 'rgba(255, 255, 255, 0)');
            gradient.addColorStop(0.5, 'rgba(255, 215, 0, 0.3)');
            gradient.addColorStop(1, 'rgba(255, 215, 0, 0)');
            
            wheelCtx.beginPath();
            wheelCtx.moveTo(centerX, centerY);
            wheelCtx.arc(centerX, centerY, radius * 1.1, startAngle, endAngle);
            wheelCtx.closePath();
            wheelCtx.fillStyle = gradient;
            wheelCtx.fill();
            
            wheelCtx.restore();
        }

        // Ø¹Ø±Ø¶ Ù†ØªÙŠØ¬Ø© Ø§Ù„Ø¬Ø§Ø¦Ø²Ø©
        function showResult() {
            if (winningPrizeIndex < 0 || winningPrizeIndex >= prizes.length) {
                console.error("ÙÙ‡Ø±Ø³ Ø§Ù„Ø¬Ø§Ø¦Ø²Ø© Ø§Ù„ÙØ§Ø¦Ø²Ø© ØºÙŠØ± ØµØ§Ù„Ø­:", winningPrizeIndex);
                winningPrizeIndex = 0; // Ø§ÙØªØ±Ø§Ø¶ Ø¬Ø§Ø¦Ø²Ø© Ø£ÙˆÙ„Ù‰ ÙƒØ¨Ø¯ÙŠÙ„
            }
            
            const winningPrize = prizes[winningPrizeIndex];
            
            // Ø¥Ø¶Ø§ÙØ© ØªØ£Ø«ÙŠØ± Ø§Ù„Ø£Ù„ÙˆØ§Ù†
            document.body.style.background = "linear-gradient(135deg, #00b09b 0%, #96c93d 100%)";
            
            // ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø¬Ø§Ø¦Ø²Ø© Ø§Ù„ÙØ§Ø¦Ø²Ø©
            resultPrize.innerHTML = `
                <span style="color: ${winningPrize.color};">${winningPrize.text}</span>
            `;
            
            // Ø¥Ù†Ø´Ø§Ø¡ ØªØ£Ø«ÙŠØ± Ø§Ù„ÙƒÙˆÙ†ÙÙŠØªÙŠ
            createConfetti();
            
            // Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ø¥Ù„Ù‰ Ø´Ø§Ø´Ø© Ø§Ù„Ù†ØªÙŠØ¬Ø©
            wheelScreen.classList.remove('active');
            resultScreen.classList.add('active');
        }

        // ØªØ¯ÙˆÙŠØ± Ù…Ø±Ø© Ø£Ø®Ø±Ù‰
        function spinAgain() {
            // Ø§Ù„Ø¹ÙˆØ¯Ø© Ø¥Ù„Ù‰ Ø´Ø§Ø´Ø© Ø§Ù„Ø¹Ø¬Ù„Ø©
            resultScreen.classList.remove('active');
            wheelScreen.classList.add('active');
            
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø®Ù„ÙÙŠØ© Ø§Ù„ØµÙØ­Ø©
            document.body.style.background = "linear-gradient(135deg, #ff416c 0%, #ff4b2b 100%)";
            
            // Ø¥Ø¹Ø§Ø¯Ø© ØªÙ…ÙƒÙŠÙ† Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ¯ÙˆÙŠØ±
            const spinBtn = document.getElementById('spinBtn');
            const spinCenterBtn = document.getElementById('spinCenterButton');
            
            spinBtn.disabled = false;
            spinCenterBtn.style.pointerEvents = 'auto';
            
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª
            winningPrizeIndex = -1;
        }

        // ØªØºÙŠÙŠØ± Ø§Ù„Ø¬ÙˆØ§Ø¦Ø²
        function newPrizes() {
            // Ø§Ù„Ø¹ÙˆØ¯Ø© Ø¥Ù„Ù‰ Ø´Ø§Ø´Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯
            resultScreen.classList.remove('active');
            setupScreen.classList.remove('hidden');
            
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø®Ù„ÙÙŠØ© Ø§Ù„ØµÙØ­Ø©
            document.body.style.background = "linear-gradient(135deg, #6a11cb 0%, #2575fc 100%)";
            
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª
            winningPrizeIndex = -1;
        }

        // Ø¥Ù†Ø´Ø§Ø¡ ØªØ£Ø«ÙŠØ± Ø§Ù„ÙƒÙˆÙ†ÙÙŠØªÙŠ
        function createConfetti() {
            confettiContainer.innerHTML = '';
            const confettiCount = 150;
            
            for (let i = 0; i < confettiCount; i++) {
                const confetti = document.createElement('div');
                confetti.style.position = 'absolute';
                confetti.style.width = `${Math.random() * 20 + 5}px`;
                confetti.style.height = `${Math.random() * 20 + 5}px`;
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.borderRadius = Math.random() > 0.5 ? '50%' : '0';
                confetti.style.left = `${Math.random() * 100}%`;
                confetti.style.top = '-50px';
                confetti.style.opacity = Math.random() * 0.5 + 0.5;
                
                // Ø¥Ø¶Ø§ÙØ© Ø§Ù†ÙŠÙ…ÙŠØ´Ù†
                confetti.style.animation = `confettiFall ${Math.random() * 3 + 2}s linear forwards`;
                confetti.style.animationDelay = `${Math.random() * 1}s`;
                
                confettiContainer.appendChild(confetti);
                
                // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ÙƒÙˆÙ†ÙÙŠØªÙŠ Ø¨Ø¹Ø¯ Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„Ø§Ù†ÙŠÙ…ÙŠØ´Ù†
                setTimeout(() => {
                    if (confetti.parentNode) {
                        confetti.remove();
                    }
                }, 5000);
            }
        }
    </script>
</body>
</html>